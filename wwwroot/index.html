<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructora Llsoluciones Alternativas</title>
    <!-- Carga de Tailwind CSS para un dise√±o moderno y responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .header-bg {
            background-color: #0b2f5b; /* Azul Oscuro para un tono profesional */
        }
        .text-primary {
            color: #ff9900; /* Naranja/Amarillo para resaltar */
        }
        .bg-primary {
            background-color: #ff9900;
        }
        /* Estilo para el indicador de carga */
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff9900;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Encabezado y Barra de Contacto -->
    <header class="header-bg shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center">
            <!-- Nombre de la Empresa -->
            <div class="text-white text-3xl font-bold tracking-tight mb-2 md:mb-0">
                Llsoluciones Alternativas
                <p class="text-sm font-light text-gray-300">Constructora | Soluciones Integrales</p>
            </div>

            <!-- Informaci√≥n de Contacto -->
            <div class="text-right text-sm space-y-1">
                <div class="flex items-center justify-end text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.727A8 8 0 0112 21.75c-4.243 0-8-3.75-8-8 0-4.418 3.582-8 8-8s8 3.582 8 8c0 1.096-.245 2.158-.703 3.123L18 21l-3.243-3.273zM12 13a2 2 0 100-4 2 2 0 000 4z" />
                    </svg>
                    Juan Isidro Jim√©nez, No. 27, Alma Rosa I, Santo Domingo Este.
                </div>
                <div class="flex items-center justify-end text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    <a href="mailto:Grupolebronp@gmail.com" class="hover:text-primary">Grupolebronp@gmail.com</a>
                </div>
                <p class="text-xs text-gray-400">Rep√∫blica Dominicana</p>
            </div>
        </div>
    </header>

    <!-- Secci√≥n Principal de Servicios -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <h1 class="text-4xl font-extrabold text-gray-900 mb-2 text-center">Nuestros Servicios Integrales</h1>
        <p class="text-xl text-gray-600 mb-10 text-center">Dise√±o, Construcci√≥n y Gesti√≥n de Proyectos en la Rep√∫blica Dominicana.</p>

        <!-- Grid de Servicios -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <!-- Tarjeta: Dise√±o y Construcci√≥n de Viviendas -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üè†</span>
                    <h2 class="text-xl font-bold text-gray-900">Dise√±o y Construcci√≥n de Viviendas</h2>
                </div>
                <p class="text-gray-600">Desde el concepto hasta la llave en mano, creamos hogares funcionales y est√©ticos que cumplen con los m√°s altos est√°ndares de calidad.</p>
            </div>

            <!-- Tarjeta: Gesti√≥n de T√≠tulos y Deslinde -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üìú</span>
                    <h2 class="text-xl font-bold text-gray-900">Gesti√≥n de T√≠tulos y Deslinde</h2>
                </div>
                <p class="text-gray-600">Servicios de asesor√≠a y tramitaci√≥n legal para la obtenci√≥n de t√≠tulos de propiedad y el deslinde de terrenos.</p>
            </div>

            <!-- Tarjeta: Estudios de Suelos -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üß™</span>
                    <h2 class="text-xl font-bold text-gray-900">Estudios de Suelos</h2>
                </div>
                <p class="text-gray-600">An√°lisis geot√©cnicos detallados para garantizar la estabilidad y el dise√±o estructural √≥ptimo de cualquier edificaci√≥n.</p>
            </div>

            <!-- Tarjeta: Supervisi√≥n de Proyectos -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üèóÔ∏è</span>
                    <h2 class="text-xl font-bold text-gray-900">Supervisi√≥n de Proyectos</h2>
                </div>
                <p class="text-gray-600">Control riguroso de la ejecuci√≥n, calidad de materiales y cumplimiento de plazos en cada fase de la obra.</p>
            </div>

            <!-- Tarjeta: Levantamiento Topogr√°fico -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üó∫Ô∏è</span>
                    <h2 class="text-xl font-bold text-gray-900">Levantamiento Topogr√°fico</h2>
                </div>
                <p class="text-gray-600">Mediciones precisas del terreno y elaboraci√≥n de planos topogr√°ficos para el dise√±o y planificaci√≥n.</p>
            </div>
            
            <!-- SERVICIO: Movimiento de Suelos -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üöú</span>
                    <h2 class="text-xl font-bold text-gray-900">Movimiento de Suelos</h2>
                </div>
                <p class="text-gray-600">Preparaci√≥n de terrenos, excavaciones, rellenos y nivelaci√≥n para cimentaciones y plataformas de construcci√≥n.</p>
            </div>

            <!-- SERVICIO: Demolici√≥n y Bote de Materiales -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üí£</span>
                    <h2 class="text-xl font-bold text-gray-900">Demolici√≥n y Bote de Materiales</h2>
                </div>
                <p class="text-gray-600">Demoliciones controladas y manejo responsable, transporte y disposici√≥n final de los escombros de la obra.</p>
            </div>

            <!-- SERVICIO: Renta de Equipos de Construcci√≥n -->
            <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-primary">
                <div class="flex items-center mb-4">
                    <span class="text-primary mr-3 text-3xl">üõ†Ô∏è</span>
                    <h2 class="text-xl font-bold text-gray-900">Renta de Equipos de Construcci√≥n</h2>
                </div>
                <p class="text-gray-600">Alquiler de maquinaria y equipos pesados y ligeros, mantenidos bajo altos est√°ndares de seguridad y eficiencia.</p>
            </div>
        </div>

        <!-- Secci√≥n del Asistente de Viabilidad (Gemini LLM) -->
        <section class="mt-20 p-8 bg-white rounded-xl shadow-2xl border border-gray-100">
            <h2 class="text-3xl font-extrabold text-gray-900 mb-4 text-center">Asistente de Viabilidad Preliminar ‚ú®</h2>
            <p class="text-lg text-gray-600 mb-6 text-center">Describe tu idea de proyecto (ej. "Quiero construir un edificio de 4 apartamentos en un solar de 300m¬≤") y recibe un an√°lisis inicial impulsado por la IA.</p>

            <div class="max-w-3xl mx-auto">
                <textarea id="project-description" rows="4" class="w-full p-4 border-2 border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-200 resize-none" placeholder="Describe tu proyecto de construcci√≥n o gesti√≥n aqu√≠..."></textarea>
                
                <div class="text-center mt-4">
                    <button id="analyze-button" class="px-8 py-3 bg-primary text-white font-bold rounded-full shadow-lg hover:bg-opacity-90 transition duration-300 text-lg uppercase tracking-wider transform hover:scale-105 flex items-center justify-center mx-auto">
                        Generar An√°lisis ‚ú®
                    </button>
                    <!-- Indicador de carga (oculto por defecto) -->
                    <div id="loading-indicator" class="hidden loading-spinner mt-4 mx-auto"></div>
                </div>

                <!-- Contenedor de Resultados -->
                <div id="results-container" class="mt-8 p-6 bg-gray-50 border border-gray-200 rounded-lg shadow-inner hidden">
                    <h3 class="text-xl font-bold text-gray-800 mb-3 border-b pb-2">Resultado del An√°lisis:</h3>
                    <p id="analysis-output" class="text-gray-700 whitespace-pre-line"></p>
                    <p class="text-sm italic text-gray-500 mt-4">Este an√°lisis es preliminar y requiere la validaci√≥n de nuestros consultores.</p>
                </div>
                <!-- Contenedor de Error (oculto por defecto) -->
                <div id="error-message" class="mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden">
                    Ocurri√≥ un error al procesar la solicitud. Por favor, int√©ntalo de nuevo o cont√°ctanos directamente.
                </div>
            </div>
        </section>

        <!-- Bot√≥n de Llamada a la Acci√≥n (CTA) -->
        <div class="mt-12 text-center">
            <a href="mailto:Grupolebronp@gmail.com" class="inline-block px-8 py-3 bg-primary text-white font-bold rounded-full shadow-lg hover:bg-opacity-90 transition duration-300 text-lg uppercase tracking-wider transform hover:scale-105">
                Cont√°ctanos Hoy Mismo
            </a>
        </div>

    </main>

    <!-- Pie de P√°gina -->
    <footer class="header-bg mt-12 py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-300">
            <p>&copy; 2024 Llsoluciones Alternativas. Todos los derechos reservados.</p>
            <p class="mt-1">Santo Domingo Este, Rep√∫blica Dominicana. | Correo: Grupolebronp@gmail.com</p>
        </div>
    </footer>

    <!-- Script de la aplicaci√≥n (incluye la l√≥gica del LLM) -->
    <script>
        const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent';
        const apiKey = ""; 

        // Referencias a elementos del DOM
        const descriptionTextarea = document.getElementById('project-description');
        const analyzeButton = document.getElementById('analyze-button');
        const loadingIndicator = document.getElementById('loading-indicator');
        const resultsContainer = document.getElementById('results-container');
        const analysisOutput = document.getElementById('analysis-output');
        const errorMessage = document.getElementById('error-message');

        /**
         * Realiza llamadas a la API de Gemini con manejo de reintentos (exponential backoff).
         * @param {object} payload - La carga √∫til de la API.
         * @param {number} retries - N√∫mero de reintentos restantes.
         */
        async function fetchWithRetry(payload, retries = 3) {
            const delay = 1000 * Math.pow(2, 3 - retries); // 1s, 2s, 4s

            try {
                const response = await fetch(`${API_URL}?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    if (response.status === 429 && retries > 0) { // Demasiadas peticiones
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return fetchWithRetry(payload, retries - 1);
                    }
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                return await response.json();

            } catch (error) {
                if (retries > 0) {
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithRetry(payload, retries - 1);
                }
                throw error;
            }
        }

        /**
         * Funci√≥n principal para generar el an√°lisis del proyecto usando Gemini.
         * NOTA: La l√≥gica de la IA es lo suficientemente flexible para incluir los nuevos servicios autom√°ticamente si son relevantes.
         */
        async function generateAnalysis() {
            const projectDescription = descriptionTextarea.value.trim();
            if (projectDescription.length < 20) {
                // Usamos un div estilizado para no usar alert()
                showTemporaryMessage("Por favor, describe tu proyecto con m√°s detalle (m√≠nimo 20 caracteres).", "bg-yellow-100 border-yellow-400 text-yellow-700");
                return;
            }

            // Ocultar resultados/errores previos y mostrar el indicador de carga
            resultsContainer.classList.add('hidden');
            errorMessage.classList.add('hidden');
            analyzeButton.disabled = true;
            analyzeButton.classList.add('opacity-50');
            loadingIndicator.classList.remove('hidden');

            const systemPrompt = "Act√∫a como un analista y consultor de proyectos de construcci√≥n preliminar para la empresa 'Llsoluciones Alternativas'. Tu tarea es tomar la descripci√≥n del proyecto del usuario y generar un an√°lisis conciso y estructurado en espa√±ol, utilizando un tono profesional y animador. El an√°lisis debe contener estrictamente los siguientes tres puntos principales, presentados con negritas y saltos de l√≠nea: 1. **Evaluaci√≥n de Complejidad Preliminar** (Estimaci√≥n de la complejidad: Baja, Media, Alta). 2. **Servicios Recomendados de Llsoluciones Alternativas** (Lista con guiones de 2 a 4 servicios de la empresa que son cruciales para este tipo de proyecto. Los servicios disponibles son: Dise√±o y Construcci√≥n de Viviendas, Gesti√≥n de T√≠tulos y Deslinde, Estudios de Suelos, Supervisi√≥n de Proyectos, Levantamiento Topogr√°fico, Movimiento de Suelos, Demolici√≥n y Bote de Materiales, Renta de Equipos de Construcci√≥n). 3. **Pr√≥ximos Pasos y Preguntas Clave** (2 preguntas espec√≠ficas que el cliente debe responder para avanzar en la consulta, como el presupuesto estimado y la ubicaci√≥n exacta).";
            
            const userQuery = `Analiza este proyecto de construcci√≥n: "${projectDescription}"`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            try {
                const result = await fetchWithRetry(payload);
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

                if (text) {
                    analysisOutput.innerHTML = text.replace(/\n/g, '<br>'); // Mantener saltos de l√≠nea y formateado
                    resultsContainer.classList.remove('hidden');
                } else {
                    errorMessage.classList.remove('hidden');
                    analysisOutput.textContent = '';
                }
            } catch (error) {
                console.error("Error en la llamada a la API de Gemini:", error);
                errorMessage.classList.remove('hidden');
            } finally {
                // Restaurar el estado de los botones y el indicador
                loadingIndicator.classList.add('hidden');
                analyzeButton.disabled = false;
                analyzeButton.classList.remove('opacity-50');
            }
        }
        
        // Funci√≥n para mostrar mensajes temporales (en lugar de alert())
        function showTemporaryMessage(message, classes) {
            const tempDiv = document.createElement('div');
            tempDiv.textContent = message;
            tempDiv.className = `fixed bottom-5 left-1/2 transform -translate-x-1/2 p-4 rounded-lg shadow-xl z-50 transition-opacity duration-500 ${classes}`;
            document.body.appendChild(tempDiv);
            
            setTimeout(() => {
                tempDiv.classList.add('opacity-0');
                setTimeout(() => tempDiv.remove(), 500);
            }, 3000);
        }

        // Asignar el event listener al bot√≥n
        analyzeButton.addEventListener('click', generateAnalysis);

        // Inicializar con un mensaje de bienvenida/ejemplo en el output
        window.onload = () => {
             analysisOutput.innerHTML = "¬°Introduce la descripci√≥n de tu proyecto arriba para obtener un an√°lisis instant√°neo!";
             resultsContainer.classList.remove('hidden');
        };

    </script>
</body>
</html>